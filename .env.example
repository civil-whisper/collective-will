# === Required secrets ===
DATABASE_URL=postgresql+asyncpg://collective:local_dev_password@localhost:5432/collective_will
DB_PASSWORD=local_dev_password
APP_PUBLIC_BASE_URL=http://localhost:3000
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
MISTRAL_API_KEY=
DEEPSEEK_API_KEY=
EVOLUTION_API_KEY=
EVOLUTION_API_URL=http://localhost:8080
TELEGRAM_BOT_TOKEN=
TELEGRAM_API_ID=
TELEGRAM_API_HASH=
TELEGRAM_BOT_USERNAME=
CORS_ALLOW_ORIGINS=http://localhost:3000
TELEGRAM_HTTP_TIMEOUT_SECONDS=30
WHATSAPP_HTTP_TIMEOUT_SECONDS=30
EMAIL_HTTP_TIMEOUT_SECONDS=10
WITNESS_HTTP_TIMEOUT_SECONDS=20

# === Tuning defaults (override as needed) ===
MIN_ACCOUNT_AGE_HOURS=48
MIN_CLUSTER_SIZE=5
CLUSTER_MIN_SAMPLES=1
CLUSTER_RANDOM_SEED=7
CLUSTER_VARIANCE_MIN_CANDIDATES=20
CLUSTER_VARIANCE_STABILITY_THRESHOLD=0.6
CLUSTER_VARIANCE_RANDOM_SEEDS=7,11,13
MIN_PREBALLOT_ENDORSEMENTS=5
MAX_SIGNUPS_PER_DOMAIN_PER_DAY=3
MAX_SIGNUPS_PER_IP_PER_DAY=10
BURST_QUARANTINE_THRESHOLD_COUNT=3
BURST_QUARANTINE_WINDOW_MINUTES=5
MAJOR_EMAIL_PROVIDERS=gmail.com,outlook.com,yahoo.com,protonmail.com
VOTING_CYCLE_HOURS=48
PIPELINE_INTERVAL_HOURS=6
PIPELINE_MIN_INTERVAL_HOURS=0.01
MAX_SUBMISSIONS_PER_DAY=5
REQUIRE_CONTRIBUTION_FOR_VOTE=true
MAX_VOTE_SUBMISSIONS_PER_CYCLE=2
SIGNUP_DOMAIN_DIVERSITY_THRESHOLD=5
MAGIC_LINK_EXPIRY_MINUTES=15
LINKING_CODE_EXPIRY_MINUTES=60
WEB_SESSION_CODE_EXPIRY_MINUTES=10
WEB_ACCESS_TOKEN_EXPIRY_HOURS=720
WEB_ACCESS_TOKEN_SECRET=change-me-in-production
DISPUTE_METRICS_LOOKBACK_DAYS=7
DISPUTE_RATE_TUNING_THRESHOLD=0.05
DISPUTE_DISAGREEMENT_TUNING_THRESHOLD=0.30
OPS_CONSOLE_ENABLED=false
OPS_CONSOLE_SHOW_IN_NAV=false
OPS_CONSOLE_REQUIRE_ADMIN=true
OPS_ADMIN_EMAILS=
OPS_EVENT_BUFFER_SIZE=500
NEXT_PUBLIC_OPS_CONSOLE_SHOW_IN_NAV=false
LLM_MAX_RETRIES=3
LLM_COMPLETION_RETRY_BACKOFF_BASE_SECONDS=0.1
LLM_EMBEDDING_RETRY_BACKOFF_BASE_SECONDS=0.5
LLM_EMBED_BATCH_SIZE=64
LLM_DEFAULT_MAX_TOKENS=1024
LLM_DEFAULT_TEMPERATURE=0
LLM_COMPLETION_TIMEOUT_SECONDS=60
LLM_EMBEDDING_TIMEOUT_SECONDS=60
LLM_EMBEDDING_DIMENSIONS=1024
LLM_TRANSIENT_STATUS_CODES=429,500,502,503
LLM_NON_RETRIABLE_STATUS_CODES=400,401
DISPUTE_ENSEMBLE_TEMPERATURE=0.1
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT_SECONDS=30
DB_ECHO_SQL=false

# === Model configuration ===
CANONICALIZATION_MODEL=claude-sonnet-4-20250514
CANONICALIZATION_FALLBACK_MODEL=claude-sonnet-4-20250514
FARSI_MESSAGES_MODEL=claude-sonnet-4-20250514
FARSI_MESSAGES_FALLBACK_MODEL=claude-sonnet-4-20250514
ENGLISH_REASONING_MODEL=claude-sonnet-4-20250514
ENGLISH_REASONING_FALLBACK_MODEL=deepseek-chat
DISPUTE_RESOLUTION_MODEL=claude-opus-4-20250514
DISPUTE_RESOLUTION_FALLBACK_MODEL=claude-sonnet-4-20250514
DISPUTE_RESOLUTION_ENSEMBLE_MODELS=claude-opus-4-20250514,claude-sonnet-4-20250514,deepseek-chat
DISPUTE_RESOLUTION_CONFIDENCE_THRESHOLD=0.75
EMBEDDING_MODEL=text-embedding-3-large
EMBEDDING_FALLBACK_MODEL=mistral-embed

# === Witness (optional) ===
WITNESS_PUBLISH_ENABLED=false
WITNESS_API_URL=https://api.witness.co
WITNESS_API_KEY=

# === Deploy-only (VPS, not needed for local dev) ===
# IMAGE_TAG=latest
# BACKEND_PORT=8000
# WEB_PORT=3000
# EVOLUTION_PORT=8080
